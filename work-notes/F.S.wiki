[[index|Hame Page]]

%toc index

*********************************** 20110314 ***********************************<br>

=== problem while compiling android widget with ant ===
-------------------- description --------------------<br>
{{{$ ant release}}}<br>
( some thing worng with com.android.ant.AaptExecLoopTask )<br>
---------------------- solution ---------------------<br>
	This is caused by "android-sdk-linux_86",<br>
	Create a folder in "/opt/" named "android" and move folder <br>
"android-ndk-r4b" and "android-sdk-linux_86" into it.<br>
------------------------ end ------------------------<br>

=== problem while "ant device_setup" ===
-------------------- description --------------------<br>
some error info such as:<br>
[exec] error: insufficient permissions for device<br>

if connect the board's USB interface to PC, and do<br>
{{{
$ adb devices
There will be a device shown as:
????????????	no permissions
}}}
---------------------- solution ---------------------<br>
{{{
$ lsusb
...
Bus 004 Device 036: ID 0bb4:0c02 High Tech Computer Corp.
...
$ sudo gedit /etc/udev/rules.d/50-android.rules
(
add this line:
SUBSYSTEM=="usb", SYSFS{"High Tech Computer Corp."}=="0bb4", MODE="0666"
)
then,
$ sudo chmod a+rx /etc/udev/rules.d/50-android.rules
$ sudo /etc/init.d/udev restart
 * Stopping kernel event manager...                                      [ OK ] 
 * Starting kernel event manager...                                      [ OK ] 
$ cd /PATH_OF_ANDROID_SDK/tools/
$ sudo ./adb kill-server
$ sudo ./adb devices
* daemon not running. starting it now on port 5037 *
* daemon started successfully *
List of devices attached 
0123456789ABCDEF	device
}}}
( Then try ant again and it shall be ok. )<br>
------------------------ end ------------------------<br>

=== solution to boot linux kernel only ===
-------------------- description --------------------<br>
Sometimes we just need to boot linux kernel and run a shell.<br>
Mainly to modify file "init.rc" located in:<br>
"~/workspace/freescaleandroid/r91/device/fsl/imx5x/"<br>
Each time we build Android, this file will be put a copy in:<br>
"~/workspace/freescaleandroid/r91/out/target/product/imx51_bbg/root/"<br>
---------------------- solution ---------------------<br>
Comment off those services which support Android in "init.rc"<br>
In detail, we delete lines after this sentence:<br>
{{{
#file: init.rc
...
service adbd /sbin/adbd
    disabled
...
#file
}}}
------------------------ end ------------------------<br>

*********************************** 20110315 ***********************************<br>

=== procedures of building android with different boot configurations ===
-------------------- description --------------------<br>
Sometimes we need to modify some default boot configurations such as<br>
boot kernel only, boot Android with a different default evironment variable, <br>
etc.<br>
---------------------- solution ---------------------<br>
So the simplest thing we need to do is to modify the file "init.rc"<br>
Then we build Android:<br>
{{{
$ cd ~/myandroid
$ make PRODUCT-imx51_bbg-eng
$ cd ~myandroid/out/target/product/imx51_bbg
$ mkimage -A arm -O linux -T ramdisk -C none -a 0x90308000 -n
	"Android Root Filesystem" -d ./ramdisk.img ./uramdisk.img
}}}
This procedure makes "ramdisk.img" then turn it into uramdisk.img.<br>
After that, we should use dd command to place it into SDCard:<br>
`$ sudo dd if=uramdisk.img of=/dev/sdb bs=4M seek=1`<br>
The next and the last step is to boot system with SDCard and our config would <br>
	make sense.<br>
------------------------ end ------------------------<br>


%template header-footer
